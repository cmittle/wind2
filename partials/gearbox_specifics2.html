<h4 class="blog-post-title">Corys Wind Pages</h4>
<hr/>

<label> Edit column
    <input type="checkbox" ng-model="showActions">
</label>
<br>

<label> Show bearing PN List
    <input type="checkbox" ng-model="showPartNumbers" ng-change="changeShowPn()"> <!--ng-change="changeShowPn()" -->
</label>
<br>

<label ng-show="showPartNumbers" style="padding-left:10px;"> Show SKF:
    <input type="checkbox" ng-model="showSKF" ng-change="output()">
</label>
<label ng-show="showPartNumbers" style="padding-left:10px;"> Show NSK:
    <input type="checkbox" ng-model="showNSK">
</label>
<label ng-show="showPartNumbers" style="padding-left:10px;"> Show FAG:
    <input type="checkbox" ng-model="showFAG">
</label>
<label ng-show="showPartNumbers" style="padding-left:10px;"> Show Timken:
    <input type="checkbox" ng-model="showTimken">
</label>
<br>
<label ng-show="showPartNumbers" style="padding-left:10px;"> Show Koyo:
    <input type="checkbox" ng-model="showKoyo">
</label>
<label ng-show="showPartNumbers" style="padding-left:10px;"> Show NTN:
    <input type="checkbox" ng-model="showNTN">
</label>
<label ng-show="showPartNumbers" style="padding-left:10px;"> Show Other:
    <input type="checkbox" ng-model="showOther">
</label>
<br><br>

<!-- TODO make this add new item button work, and probably preload the information for the gearbox I'm currently viewing, also validate form when completed before submitted-->
<button type="button" class="btn btn-danger fa fa-plus" ng-click="open(product);" style="font-size:80%">&nbsp;Add item to this gearbox</button> <!-- -->



<div class="table-responsive">
    <div class="panel panel-primary">
      <div class="panel-heading">
             <h3 ng-if="urlModel">Gearbox : {{urlMfg}} {{urlModel}}</h3> 

            <span class="input-icon"> 

                    <i class="search-icon fa fa-search nav-search-icon"></i>
                </span> 

          <div class="sw-search" ng-if="!urlModel">

                <div class="nav-search" id="nav-search">
                        Filter: <span class="input-icon">
                            <input placeholder="Filter products list ..." class="nav-search-input" ng-model="filterProduct2" ng-change="resetLimit();"  autocomplete="off" type="text" style="width:200px;" focus>
                            <i class="search-icon fa fa-search nav-search-icon"></i>
                        </span>
                        <br>
                </div>
            </div>
        </div>
        <div class="panel-body">
            <table class="table table-striped">
                <tr ng-show="products.length==0"><td style="vertical-align:middle;"><i class="fa fa-ban fa-3x"></i>&nbsp;No data found</td></tr>
                <tr ng-hide="products.length>-1"><td style="vertical-align:middle;"><i class="fa fa-cog fa-3x fa-spin"></i>&nbsp;Loading</td></tr>

                <tr><th ng-repeat="c in columns">{{c.text}}</th></tr>


                <tr ng-repeat="c in products | filter:filterProduct2 | orderBy:'pos_id'" > 

                    <td>{{c.position}}</td><td style="white-space: nowrap">{{c.bearing_basic_pn}}</td><td>{{c.rec_clearance}}</td><td>{{c.qty_per_gb}}</td>

                    <td ng-show="showSKF">
                        <table>
                            <tr>
                                <td style="font-size:0.9em; font-style:italic;">SKF:</td>
                            </tr>
                            <!--<tr> 
                                <td style="white-space: nowrap; padding-right:10px">NCF 18/530 V/L4BCNL {{c.position}}</td>
                            </tr>-->             <!-- ng-repeat="d in bearingSpecifics | filter:{ mfg: '1' }" -->
                            <tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '1' }:true | filter:{bearing_basic_id: c.bearing_basic_id}:true" > <!-- 1 is SKF --> 
                            <!--TODO need to figure out how to replace tooltip-html-unsafe with html template or maybe this whole specific detail should be a separate directive.... -->
                                <td uib-tooltip-template="'myTooltipTemplate.html'" tooltip-popup-delay="1000" style="white-space: nowrap; padding-right:10px; font-size: 0.8em;">{{d.specific_pn}}</td> 
                            </tr>
                        </table>
                    </td>	
                    <td ng-if="showNSK">
                        <table>
                            <tr>
                                <td style="font-size:0.9em; font-style:italic;">NSK:</td>
                            </tr>
                            <!--<tr>
                                <td style="white-space: nowrap; padding-right:10px">NCF1868V</td>
                            </tr>-->
                           <!-- <tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '2' }" >--> <!-- 2 is NSK --> 
                             <tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '2' }:true | filter:{ bearing_basic_id: c.bearing_basic_id }:true" > <!-- 2 is NSK --> 
                                <td uib-tooltip-template="'myTooltipTemplate.html'" tooltip-popup-delay="1000" style="white-space: nowrap; padding-right:10px; font-size: 0.8em;">{{d.specific_pn}}</td> 
                            </tr>
                        </table>
                    </td>
                    <td ng-if="showFAG">
                        <table>
                            <tr>
                                <td style="font-size:0.9em; font-style:italic;">FAG:</td>
                            </tr>
                            <!--<tr>
                                <td style="white-space: nowrap; padding-right:10px">F-808786B</td>
                            </tr>-->
                            <!--<tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '3' }" >--> <!-- 2 is FAG --> 
                            <tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '3' }:true | filter:{ bearing_basic_id: c.bearing_basic_id }:true" > <!-- 3 is FAG -->
                            <!-- {{c.position}} works here to pull in variables from outside table-->
                                <td uib-tooltip-template="'myTooltipTemplate.html'" tooltip-popup-delay="1000" style="white-space: nowrap; padding-right:10px; font-size: 0.8em;">{{d.specific_pn}}</td> 
                            </tr>
                        </table>
                    </td>
                    <td ng-if="showTimken">
                        <table>
                            <tr>
                                <td style="font-size:0.9em; font-style:italic;">Timken:</td>
                            </tr>
                            <!--<tr>
                                <td style="white-space: nowrap; padding-right:10px">WE-1310</td>
                            </tr>-->
                            <!--<tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '4' }" >--> <!-- 4 is Timken --> 
                            <tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '4' }:true | filter:{ bearing_basic_id: c.bearing_basic_id }:true" > <!-- 4 is Timken -->  
                                <td uib-tooltip-template="'myTooltipTemplate.html'" tooltip-popup-delay="1000" style="white-space: nowrap; padding-right:10px; font-size: 0.8em;">{{d.specific_pn}}</td> 
                            </tr>
                        </table>
                    </td>
                    <td ng-if="showKoyo">
                        <table>
                            <tr>
                                <td style="font-size:0.9em; font-style:italic;">Koyo:</td>
                            </tr>
                            <!--<tr>
                                <td style="white-space: nowrap; padding-right:10px">Koyo PN</td>
                            </tr>-->
                            <!--<tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '5' }" >--> <!-- 5 is Koyo --> 
                            <tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '5' }:true | filter:{ bearing_basic_id: c.bearing_basic_id }:true" > <!-- 5 is Koyo -->
                                <td uib-tooltip-template="'myTooltipTemplate.html'" tooltip-popup-delay="1000" style="white-space: nowrap; padding-right:10px; font-size: 0.8em;">{{d.specific_pn}}</td> 
                            </tr>
                        </table>
                    </td>
                    <td ng-if="showNTN">
                        <table>
                            <tr>
                                <td style="font-size:0.9em; font-style:italic;">NTN:</td>
                            </tr>
                            <!--<tr>
                                <td style="white-space: nowrap; padding-right:10px">NTN PN</td>
                            </tr>-->
                            <!--<tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '6' }" >--> <!-- 6 is NTN --> 
                            <tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '6' }:true | filter:{ bearing_basic_id: c.bearing_basic_id }:true" > <!-- 6 is NTN -->
                                <td uib-tooltip-template="'myTooltipTemplate.html'" tooltip-popup-delay="1000" style="white-space: nowrap; padding-right:10px; font-size: 0.8em;">{{d.specific_pn}}</td> 
                            </tr>
                        </table>
                    </td>
                    <td ng-if="showOther">
                        <table>
                            <tr>
                                <td style="font-size:0.9em; font-style:italic;">Other:</td>
                            </tr>
                            <!--<tr>
                                <td style="white-space: nowrap; padding-right:10px">Other PN</td>
                            </tr>-->
                            <!--<tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '7' }" >--> <!-- 7 is Other --> 
                            <tr ng-repeat="d in bearingSpecifics | filter:{ mfg: '7' }:true | filter:{ bearing_basic_id: c.bearing_basic_id }:true" > <!-- 7 is Other -->
                               <td uib-tooltip-template="'myTooltipTemplate.html'" tooltip-popup-delay="1000" style="white-space: nowrap; padding-right:10px; font-size: 0.8em;">{{d.specific_pn}}</td> 
                            </tr>
                        </table>
                    </td>
                    <td>{{c.notes}}</td>

                   <!-- OLD column layout -->
                   <!--<td>{{c.id}}</td><td>{{c.gb_id}}</td><td>{{c.position}}</td><td>{{c.pos_id}}</td><td>{{c.bearing_basic_id}}</td><td>{{c.bearing_basic_pn}}</td><td>{{c.rec_clearance}}</td><td>{{c.qty_per_gb}}</td><td>{{c.notes}}</td>-->
                   <!-- TODO add edit/copy/delete buttons to this column for each record -->
                    <td ng-if="showActions" style="width:100px">
                        <div class="btn-group">
                            <button type="button" class="btn-xs btn-default fa fa-edit" uib-tooltip="Edit" ng-click="open(c);"></button>
                            <button type="button" class="btn-xs btn-danger fa fa-trash-o" uib-tooltip="Delete" ng-click="deleteProduct(c);"></button>
                            <button type="button" class="btn-xs btn-default fa fa-tags" uib-tooltip="Copy" ></button> <!-- need to make this copy function ng-click="deleteProduct(c);"-->
                        </div>
                    </td>


                </tr>
            </table>
        </div>
    </div>  
    
    
    <!-- This is the popup template for the specific part numbers listed under each mfg. -->
    <script type="text/ng-template" id="myTooltipTemplate.html">
      <div> 
      	<strong>Specific PN:</strong> &nbsp{{d.specific_pn}} <br> 
      	<strong>Specific ID:</strong> &nbsp{{d.specific_id}} <br>
      	<strong>Basic Brg ID:</strong> &nbsp{{d.bearing_basic_id}} <br> 
      	<strong>ID:</strong> &nbsp{{d.id}} <br> 
      	<strong>OD:</strong> &nbsp{{d.od}} <br> 
      	<strong>Width:</strong> &nbsp{{d.width}} <br> 
      	<strong>Cage:</strong> &nbsp{{d.cage}} <br> 
      	<strong>Inner Ring:</strong> &nbsp{{d.inner_ring}} <br> 
      	<strong>Outer Ring:</strong> &nbsp{{d.outer_ring}} <br> 
      	<strong>Rollers:</strong> &nbsp{{d.rollers}} <br> 
      	<strong>Notes:</strong> &nbsp{{d.notes}}</div>
    </script>
</div>
            